import fs from 'fs'; import path from 'path'; export default function Blog({posts}){ return (<div className='container' style={{padding:'2rem 0'}}><h1>Blog</h1><ul>{posts.map(p=> <li key={p}><a href={'/blog/'+p.replace(/\.mdx?$/,'')}>{p}</a></li>)}</ul></div>) } export async function getStaticProps(){ const postsDir=path.join(process.cwd(),'posts'); let files=[]; try{ files=fs.readdirSync(postsDir) }catch(e){} return {props:{posts:files}} }